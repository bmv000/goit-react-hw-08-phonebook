{"version":3,"file":"static/js/406.de609642.chunk.js","mappings":"yTACA,EAAiC,qCAAjC,EAAwF,sCAAxF,EAA+I,qCAA/I,EAAsM,sCAAtM,EAA8P,sCAA9P,EAAuT,uCAAvT,EAAkX,wC,SCW5WA,EAAe,CACpBC,KAAM,GACHC,MAAO,GACTC,SAAU,IA6GZ,EA1GqB,WACnB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA4BF,EAAAA,EAAAA,UAASN,GAArC,eAAOS,EAAP,KAAeC,EAAf,KAIMC,EAAe,SAACC,GACpB,MAAwBA,EAAMC,cAAtBZ,EAAR,EAAQA,KAAMa,EAAd,EAAcA,MACdJ,GAAU,SAAAK,GAAI,yBAAUA,GAAV,cAAiBd,EAAOa,GAAxB,GACf,EAEKE,EAAY,mCAAG,WAAOJ,GAAP,wEACnBA,EAAMK,iBADa,SAIjBT,GAAa,GAJI,SAKXU,EAAAA,GAAAA,KAAe,gBAAiBT,GALrB,uBAMXL,GACJe,EAAAA,EAAAA,GAAe,CAAEjB,MAAOO,EAAOP,MAAOC,SAAUM,EAAON,YACvDiB,SARe,OAUjBZ,GAAa,GACba,EAAAA,GAAAA,QAAc,YAXG,kDAajBC,QAAQC,IAAR,MACAF,EAAAA,GAAAA,MAAY,cAdK,QAgBhBX,EAAUV,GAhBM,0DAAH,sDAmBlB,OACE,iBAAKwB,UAAWC,EAAhB,UACGlB,IAAa,SAACmB,EAAA,EAAD,KAEd,kBACEF,UAAWC,EAIXE,SAAUX,EALZ,WAOE,eAAIQ,UAAWC,EAAf,6BAEA,mBAAOD,UAAWC,EAAlB,2BAEE,kBACED,UAAWC,EAEXxB,KAAK,QACL2B,KAAK,QAELC,YAAY,iBACZf,MAAOL,EAAOP,MACd4B,SAAUnB,QAKd,mBAAOa,UAAWC,EAAlB,kBAEE,kBACED,UAAWC,EAEXxB,KAAK,OACL2B,KAAK,OACLG,QAAQ,yHAERF,YAAY,OACZf,MAAOL,EAAOuB,WACdF,SAAUnB,QAKd,mBAAOa,UAAWC,EAAlB,sBAEE,kBACED,UAAWC,EAEXxB,KAAK,WACL2B,KAAK,WACLK,UAAQ,EACRC,aAAa,MACbpB,MAAOL,EAAON,SACd2B,SAAUnB,QASd,SAAC,KAAD,CAAMa,UAAWC,EAAuBU,GAAG,SAA3C,mCAIA,mBAAQX,UAAWC,EAAsBG,KAAK,SAA9C,0BAMP,C","sources":["webpack://react-homework-template/./src/pages/RegisterPage/RegisterPage.module.css?fdcb","pages/RegisterPage/RegisterPage.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"register__page\":\"RegisterPage_register__page__tIaUB\",\"register__title\":\"RegisterPage_register__title__AO9MI\",\"register__form\":\"RegisterPage_register__form__TcRd2\",\"register__label\":\"RegisterPage_register__label__zFOau\",\"register__input\":\"RegisterPage_register__input__x9R1t\",\"register__button\":\"RegisterPage_register__button__Xnxvk\",\"register__tologin\":\"RegisterPage_register__tologin__WlEYz\"};","\n\nimport { publicApi } from '../../services/api';\nimport { useState } from 'react';\n\nimport { useDispatch } from 'react-redux';\nimport { authLoginThunk } from '../../redux/auth/auth.thunks';\nimport { Link } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport {Loader} from '../../components/Loader/Loader';\nimport css from './RegisterPage.module.css';\n// const year = new Date().getFullYear();\nconst initialState = {\n name: '',\n    email: '',\n  password: '',\n};\n\nconst RegisterPage = () => {\n  const dispatch = useDispatch();\n  const [isLoading, setIsLoading] = useState(false);\n  const [values, setValues] = useState(initialState);\n\n//   const [isPass, setIsPass] = useState(true);\n\n  const handleChange = (event) => {\n    const { name, value } = event.currentTarget;\n    setValues(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      setIsLoading(true);\n      await publicApi.post('/users/signup', values);\n      await dispatch(\n        authLoginThunk({ email: values.email, password: values.password })\n      ).unwrap();\n\n      setIsLoading(false);\n      toast.success('Success!');\n    } catch (error) {\n      console.log(error);\n      toast.error('Some error');\n      }\n       setValues(initialState);\n  };\n\n  return (\n    <div className={css.register__page}>\n      {isLoading && <Loader />}\n\n      <form\n        className={css.register__form}\n        // action=\"#\"\n        // className=\"mt-5 mx-auto p-0\"\n        // style={{ width: '450px' }}\n        onSubmit={handleSubmit}\n      >\n        <h1 className={css.register__title}>Please Sign In</h1>\n\n        <label className={css.register__label}>\n          Email address\n          <input\n            className={css.register__input}\n            // id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            //   autoComplete=\"username\"\n            placeholder=\"name@email.com\"\n            value={values.email}\n            onChange={handleChange}\n            // className=\"form-control\"\n          />\n        </label>\n\n        <label className={css.register__label}>\n          Name\n          <input\n            className={css.register__input}\n            // id=\"first_name\"\n            name=\"name\"\n            type=\"name\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            // autoComplete=\"off\"\n            placeholder=\"Name\"\n            value={values.first_name}\n            onChange={handleChange}\n            // className=\"form-control\"\n          />\n        </label>\n\n        <label className={css.register__label}>\n          Password\n          <input\n            className={css.register__input}\n            // id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            required\n            autoComplete=\"off\"\n            value={values.password}\n            onChange={handleChange}\n            // className=\"form-control\"\n          />\n        </label>\n\n        {/* <button type=\"submit\" onClick={() => setIsPass(prev => !prev)}>\n          toggle\n        </button> */}\n\n        <Link className={css.register__tologin} to=\"/login\">\n          Already has account?\n        </Link>\n\n        <button className={css.register__button} type=\"submit\">\n          Sign In\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterPage;"],"names":["initialState","name","email","password","dispatch","useDispatch","useState","isLoading","setIsLoading","values","setValues","handleChange","event","currentTarget","value","prev","handleSubmit","preventDefault","publicApi","authLoginThunk","unwrap","toast","console","log","className","css","Loader","onSubmit","type","placeholder","onChange","pattern","first_name","required","autoComplete","to"],"sourceRoot":""}